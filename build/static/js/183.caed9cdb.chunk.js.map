{"version":3,"file":"static/js/183.caed9cdb.chunk.js","mappings":"mMAKA,MA4FA,EA5F4BA,IACxB,MAAMC,GAAOC,EAAAA,EAAAA,KAAYC,GAASA,EAAMC,MAAMH,QACvCE,EAAOE,IAAYC,EAAAA,EAAAA,UAAS,OAC5BC,EAAOC,IAAYF,EAAAA,EAAAA,UAAS,OAC5BG,EAAUC,IAAeJ,EAAAA,EAAAA,UAAS,IAkCzC,OAAOK,EAAAA,EAAAA,KAAA,OAAAC,UACPD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,yCAAwCD,UACnDD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,gCAA+BD,UAI1CE,EAAAA,EAAAA,MAAA,QAAMD,UAAU,0BAAyBD,SAAA,EAErCE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,uBAAuBE,QAASA,IAAMC,SAASC,cAAc,eAAeC,QAAQN,SAAA,EAE/FD,EAAAA,EAAAA,KAAA,SACAE,UAAU,aACVM,KAAK,OACLC,KAAK,QACLC,QAAM,EACNC,SAAUC,IAA0B,IAAvBC,QAAS,MAACC,IAAOF,EAC1BE,EAAM,IAAMf,EAAYe,EAAM,GAAGL,MAC7BK,EAAM,IACNjB,EAASiB,EAAM,GACnB,IAGHlB,GACGI,EAAAA,EAAAA,KAAA,OAAKE,UAAU,iDAAgDD,UAC3DD,EAAAA,EAAAA,KAAA,OAAKe,IAAKC,IAAIC,gBAAgBrB,GAAQsB,MAAO,IAAKC,OAAQ,IAAKC,IAAI,gCAG3EjB,EAAAA,EAAAA,MAAAkB,EAAAA,SAAA,CAAApB,SAAA,EACID,EAAAA,EAAAA,KAAA,OAAKe,IAAKO,EAAaJ,MAAO,IAAKC,OAAQ,IAAKC,IAAKtB,KACrDE,EAAAA,EAAAA,KAAA,KAAAC,SAAG,4JAGXD,EAAAA,EAAAA,KAAA,OAAAC,UACAE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,sFAAqFD,SAAA,EAChGD,EAAAA,EAAAA,KAAA,QAAME,UAAU,6BAA6BkB,IAAI,8CAAWF,MAAO,GAAIC,OAAQ,GAAIf,QAASA,KACxFL,EAAY,sIACZF,EAAS,KAAK,KAElBG,EAAAA,EAAAA,KAAA,KAAGE,UAAU,OAAMD,SAAEH,UAG7BK,EAAAA,EAAAA,MAAA,OAAKD,UAAU,sCAAqCD,SAAA,CAC/CT,GAAQQ,EAAAA,EAAAA,KAAA,KAAAC,SAAG,+IAAkCD,EAAAA,EAAAA,KAAAqB,EAAAA,SAAA,KACnC,IAAV7B,GAAkBQ,EAAAA,EAAAA,KAAA,KAAAC,SAAG,kKAAsCD,EAAAA,EAAAA,KAAAqB,EAAAA,SAAA,QAEhErB,EAAAA,EAAAA,KAAA,OAAKE,UAAU,yCAAwCD,UACnDD,EAAAA,EAAAA,KAAA,UAAQE,UAAU,qFAAqFE,QA7E7FmB,UAClBC,EAAMC,iBACN,IAAIC,EAAK,KACT,MAAMC,EAASC,aAAaC,QAAQ,UACpCC,QAAQC,IAAIJ,GAEZ,MAAMK,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAAStC,EAAOE,SAE1BqC,EAAAA,EAAMC,KAAK,GAADC,OAAI/C,EAAI,eAAe0C,EAAU,CAC7CM,QAAS,CAAE,eAAgB,yBAC1BC,MAAKC,IACRd,EAAKc,EAAIC,KAAK,GAAGf,EAAE,IAClBgB,OAAMF,cAGHL,EAAAA,EAAMQ,IAAI,GAADN,OAAI/C,EAAI,kBAAA+C,OAAiBV,GACpC,CACIc,KAAM,CACFG,aAAc,CACVlB,GAAIA,MAIlBa,MAAKC,IACL9C,GAAS,EAAK,IACbgD,OAAMF,IACP9C,GAAS,EAAM,GACf,EAiDoIO,SAAC,+DAKzI,C","sources":["dashboard/components/extra/ChangeProfileImage.jsx"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\nimport axios from \"axios\"\r\nimport uploadImage from \"../../../Assets/images/upload.png\"\r\n\r\nconst ChangeProfileImage = (props) => {\r\n    const host = useSelector(state => state.State.host)\r\n    const [state, setState] = useState(null)\r\n    const [image, setImage] = useState(null)\r\n    const [fileName, setFileName] = useState(\"\")\r\n\r\n    \r\n    const handelSubmmit = async (event) => {\r\n        event.preventDefault()\r\n        var id = null\r\n        const userId = localStorage.getItem(\"userId\")\r\n        console.log(userId)\r\n\r\n        const formData = new FormData();\r\n        formData.append('files', image, fileName);\r\n\r\n        await axios.post(`${host}/api/upload`, formData, {\r\n            headers: { 'Content-Type': 'multipart/form-data' },\r\n          }).then(res => {\r\n          id = res.data[0].id\r\n        }).catch(res => {\r\n        })\r\n\r\n        await axios.put(`${host}/api/karbrans/${userId}`,\r\n            {\r\n                data: {\r\n                    profileImage: {\r\n                        id: id\r\n                    }\r\n                }\r\n            }\r\n        ).then(res => {\r\n          setState(true)\r\n        }).catch(res => {\r\n          setState(false)\r\n        })\r\n    }\r\n  \r\n    return <div>\r\n    <div className=\"flex items-center justify-center mt-24\">\r\n        <div className=\"w-[80%] md:w-[90%] sm:w-[95%]\">\r\n            {/* <div className=\"flex items-center justify-center mb-12 font-semibold\">\r\n                <p className=\"text-[22px]\">تغییر عکس پروفایل</p>\r\n            </div> */}\r\n            <form className=\"mx-32 lg:mx-24 sm:mx-12\">\r\n                {/* <label className=\" mb-[10px]\" name=\"name\">بارگذاری فایل</label> */}\r\n                <div className=\"custom-form bg-white\" onClick={() => document.querySelector(\".input-file\").click()}>\r\n\r\n                    <input\r\n                    className=\"input-file\"\r\n                    type=\"file\"\r\n                    name=\"files\"\r\n                    hidden\r\n                    onChange={({ target : {files}}) => {\r\n                        files[0] && setFileName(files[0].name)\r\n                        if (files[0]){\r\n                            setImage(files[0])\r\n                        }\r\n                    }}\r\n                    />\r\n                    {image ? \r\n                        <div className=\"flex items-center justify-center flex-col p-12\">\r\n                            <img src={URL.createObjectURL(image)} width={170} height={250} alt=\"فایل\"/>\r\n                            {/* <p className=\"mr-2\">{fileName}</p> */}\r\n                        </div> :\r\n                    <>\r\n                        <img src={uploadImage} width={150} height={150} alt={fileName}  /> \r\n                        <p>فایل مورد نظر را انتخاب کنید.</p>\r\n                    </>}\r\n                </div>\r\n                <div >\r\n                <div className=\"flex items-center justify-start mt-6 bg-[#e9f0ff] rounded-[5px] py-[15px] px-[20px]\">\r\n                    <span className=\"cursor-pointer ti ti-trash\" alt=\"حذف فایل\" width={20} height={30} onClick={() => {\r\n                        setFileName(\"هیچ فایلی انتخاب نشده است\")\r\n                        setImage(null)\r\n                    }}/>\r\n                    <p className=\"mr-2\">{fileName}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"flex items-center justify-end mt-4 \">\r\n                {state ? <p>فایل با موفقیت بارگذاری شد.</p> : <></>}\r\n                {state === false ? <p>مشکلی در بارگذاری فایل پیش آمد.</p> : <></>}\r\n            </div>\r\n            <div className=\"flex items-center justify-center mt-2 \">\r\n                <button className=\"button-custom bg-[#ff3030] text-white rounded-[5px] hover:bg-[#ff3030] w-auto mt-0\" onClick={handelSubmmit}>بارگذاری</button>\r\n            </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>\r\n}\r\n\r\nexport default ChangeProfileImage"],"names":["props","host","useSelector","state","State","setState","useState","image","setImage","fileName","setFileName","_jsx","children","className","_jsxs","onClick","document","querySelector","click","type","name","hidden","onChange","_ref","target","files","src","URL","createObjectURL","width","height","alt","_Fragment","uploadImage","async","event","preventDefault","id","userId","localStorage","getItem","console","log","formData","FormData","append","axios","post","concat","headers","then","res","data","catch","put","profileImage"],"sourceRoot":""}